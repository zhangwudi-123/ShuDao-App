{"ast":null,"code":"import { Service } from '@hvisions/toolkit';\nconst appName = '/warehouse-service';\n\nclass Stocktakin extends Service {\n  async getQueryList(data) {\n    return await this.post(`${appName}/stockcheck/getPage`, { ...data,\n      direction: false,\n      sort: true,\n      sortCol: 'id'\n    });\n  } // 锁库状态 stockcheck/getLockState\n\n\n  async getLockState() {\n    try {\n      return await this.get(`${appName}/stockcheck/getLockState`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // 锁库\n\n\n  async lockStock() {\n    try {\n      return await this.get(`${appName}/stockcheck/lockStock`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // 关闭 stockcheck/unLockStock\n\n\n  async unLockStock() {\n    try {\n      return await this.get(`${appName}/stockcheck/unLockStock`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // stockcheck/create、\n\n\n  async createStock() {\n    try {\n      return await this.get(`${appName}/stockcheck/create`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // /stockcheck/getByScId/{scId}\n\n\n  async getStock(id) {\n    try {\n      return await this.get(`${appName}/stockcheck/getByScId/${id}`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // 一键导入 /stockcheck/pull\n\n\n  async imporMaterail(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/pull`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // 选择物料 stockcheck/choose\n\n\n  async chooseMaterail(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/choose`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // /stockcheck/getLineByMaterial 根据物料信息关键字查询物料\n\n\n  async getLineByMaterial(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/getLineByMaterial`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // /stockcheck/getDetailByLineId/{lineId}\n\n\n  async getDetailByLineId(id) {\n    try {\n      return await this.get(`${appName}/stockcheck/getDetailByLineId/${id}`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // stockcheck/manulUpdateDetail\n\n\n  async manulUpdateDetail(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/manulUpdateDetail`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // stockcheck/updateDetail 更新行数据\n\n\n  async updateDetail(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/updateDetail`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async deleteMaterialDetail(id) {\n    try {\n      await this.delete(`${appName}/stockcheck/deleteDetail/${id}`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  } // /stockcheck/complete/{scId}\n\n\n  async changeStatus(id) {\n    try {\n      await this.put(`${appName}/stockcheck/complete/${id}`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async findAllByQuery() {\n    try {\n      return await this.post(`${appName}/warehouse/findAllByQuery`, {});\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async deleteLineById(id) {\n    try {\n      await this.delete(`${appName}/stockcheck/deleteLineById/${id}`);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async getMaterialList(data) {\n    return await this.post(`${appName}/stock/getAllByQuery`, { ...data,\n      direction: false,\n      sort: true,\n      sortCol: 'id'\n    });\n  }\n\n  async findMaterialByBatchNum(data) {\n    try {\n      return await this.post(`${appName}/stockcheck/findMaterialByBatchNum`, data);\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n}\n\nexport default new Stocktakin();","map":{"version":3,"names":["Service","appName","Stocktakin","getQueryList","data","post","direction","sort","sortCol","getLockState","get","error","Error","lockStock","unLockStock","createStock","getStock","id","imporMaterail","chooseMaterail","getLineByMaterial","getDetailByLineId","manulUpdateDetail","updateDetail","deleteMaterialDetail","delete","changeStatus","put","findAllByQuery","deleteLineById","getMaterialList","findMaterialByBatchNum"],"sources":["F:/project/vsCode/yw-app/src/api/stocktakin.js"],"sourcesContent":["import { Service } from '@hvisions/toolkit';\r\n\r\nconst appName = '/warehouse-service';\r\n\r\nclass Stocktakin extends Service {\r\n  async getQueryList(data) {\r\n    return await this.post(`${appName}/stockcheck/getPage`,{\r\n      ...data,\r\n      direction:false,\r\n      sort: true,\r\n      sortCol : 'id'\r\n    });\r\n  }\r\n\r\n  // 锁库状态 stockcheck/getLockState\r\n  async getLockState() {\r\n    try {\r\n      return await this.get(`${appName}/stockcheck/getLockState`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // 锁库\r\n  async lockStock() {\r\n    try {\r\n      return await this.get(`${appName}/stockcheck/lockStock`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // 关闭 stockcheck/unLockStock\r\n  async unLockStock() {\r\n    try {\r\n      return await this.get(`${appName}/stockcheck/unLockStock`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // stockcheck/create、\r\n  async createStock() {\r\n    try {\r\n      return await this.get(`${appName}/stockcheck/create`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // /stockcheck/getByScId/{scId}\r\n  async getStock(id) {\r\n    try {\r\n      return await this.get(`${appName}/stockcheck/getByScId/${id}`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // 一键导入 /stockcheck/pull\r\n  async imporMaterail(data) {\r\n    try {\r\n      return await this.post(`${appName}/stockcheck/pull`, data);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  // 选择物料 stockcheck/choose\r\n  async chooseMaterail(data) {\r\n    try {\r\n      return await this.post(`${appName}/stockcheck/choose`, data);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // /stockcheck/getLineByMaterial 根据物料信息关键字查询物料\r\n  async getLineByMaterial(data) {\r\n    try {\r\n      return await this.post(`${appName}/stockcheck/getLineByMaterial`, data);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  // /stockcheck/getDetailByLineId/{lineId}\r\n  async getDetailByLineId(id) {\r\n    try {\r\n        return await this.get(`${appName}/stockcheck/getDetailByLineId/${id}`);\r\n      } catch (error) {\r\n        throw new Error(error);\r\n    }\r\n  }\r\n  // stockcheck/manulUpdateDetail\r\n  async manulUpdateDetail(data) {\r\n    try {\r\n        return await this.post(`${appName}/stockcheck/manulUpdateDetail`, data);\r\n      } catch (error) {\r\n        throw new Error(error);\r\n      }\r\n  }\r\n  // stockcheck/updateDetail 更新行数据\r\n  async updateDetail(data) {\r\n    try {\r\n        return await this.post(`${appName}/stockcheck/updateDetail`, data);\r\n      } catch (error) {\r\n        throw new Error(error);\r\n      }\r\n  }\r\n  async deleteMaterialDetail(id) {\r\n    try {\r\n      await this.delete(`${appName}/stockcheck/deleteDetail/${id}`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  // /stockcheck/complete/{scId}\r\n  async changeStatus(id) {\r\n    try {\r\n      await this.put(`${appName}/stockcheck/complete/${id}`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  async findAllByQuery() {\r\n    try {\r\n      return await this.post(`${appName}/warehouse/findAllByQuery`, {});\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  async deleteLineById(id) {\r\n    try {\r\n      await this.delete(`${appName}/stockcheck/deleteLineById/${id}`);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  async getMaterialList(data) {\r\n    return await this.post(`${appName}/stock/getAllByQuery`, {\r\n      ...data,\r\n      direction: false,\r\n      sort: true,\r\n      sortCol: 'id'\r\n    });\r\n  }\r\n\r\n  async findMaterialByBatchNum(data) {\r\n    try {\r\n      return await this.post(`${appName}/stockcheck/findMaterialByBatchNum`, data);\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Stocktakin();\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}