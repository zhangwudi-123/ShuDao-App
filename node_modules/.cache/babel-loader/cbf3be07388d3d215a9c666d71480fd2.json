{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _style = _interopRequireDefault(require(\"./style.scss\"));\n\nvar _fUi = require(\"@hvisions/f-ui\");\n\nvar _session = require(\"@hvisions/toolkit/lib/session\");\n\nvar _homeTitle = _interopRequireDefault(require(\"./imgs/homeTitle.png\"));\n\nvar _role = _interopRequireDefault(require(\"./imgs/role.png\"));\n\nvar _user = _interopRequireDefault(require(\"./imgs/user.png\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar Layout = function Layout(_ref) {\n  var moduleList = _ref.moduleList,\n      props = _objectWithoutProperties(_ref, [\"moduleList\"]);\n\n  var _core = (0, _reactRedux.useSelector)(function (_ref2) {\n    var core = _ref2.core;\n    return core;\n  });\n\n  var renderHomeCard = function renderHomeCard() {\n    var rootPages = moduleList.filter(function (i) {\n      return i.parentId == 0;\n    });\n    return _react.default.createElement(_fUi.Row, null, rootPages.concat(Array((3 - rootPages.length % 3) % 3).fill({})).map(function (item, index) {\n      if ((0, _lodash.isEmpty)(item)) {\n        return _react.default.createElement(_fUi.Col, {\n          key: index,\n          width: \"33\"\n        });\n      }\n\n      return _react.default.createElement(_fUi.Col, {\n        key: index,\n        width: \"33\"\n      }, _react.default.createElement(\"div\", {\n        className: _style.default.navigateCard,\n        key: index,\n        style: {\n          textAlign: 'center'\n        },\n        onClick: function onClick() {\n          props.$f7router.navigate(item.urlAddress);\n        }\n      }, _react.default.createElement(\"div\", {\n        className: _style.default.largeIcon\n      }, _react.default.createElement(\"i\", {\n        className: item.icon ? \"app-icon-\".concat(item.icon, \" \").concat(_style.default.iconContainer2) : _style.default.iconContainer2\n      })), _react.default.createElement(\"div\", {\n        className: _style.default.cardFullName\n      }, item.fullName)));\n    }));\n  };\n\n  var renderAllFunctions = function renderAllFunctions() {\n    var allFuncList = _core.homeMenus;\n    return _react.default.createElement(_fUi.Row, null, allFuncList.concat({\n      urlAddress: '/menu-more',\n      fullName: '更多',\n      iconIos: 'menu-more',\n      // f7自带icon\n      icon: 'menu-more'\n    }).concat(Array((4 - (allFuncList.length + 1) % 4) % 4).fill({})).map(function (item, index) {\n      if ((0, _lodash.isEmpty)(item)) {\n        return _react.default.createElement(_fUi.Col, {\n          width: \"25\",\n          key: index\n        });\n      }\n\n      return _react.default.createElement(_fUi.Col, {\n        width: \"25\",\n        key: index\n      }, _react.default.createElement(\"div\", {\n        className: _style.default.navigateCard,\n        key: index,\n        style: {\n          textAlign: 'center'\n        },\n        onClick: function onClick() {\n          props.$f7router.navigate(item.urlAddress);\n        }\n      }, _react.default.createElement(\"i\", {\n        className: item.icon ? \"app-icon-\".concat(item.icon, \" \").concat(_style.default.iconContainer) : _style.default.iconContainer\n      }), _react.default.createElement(\"div\", {\n        className: _style.default.cardFullName\n      }, item.fullName)));\n    }));\n  };\n\n  return _react.default.createElement(\"div\", {\n    className: _style.default.homePage\n  }, _react.default.createElement(\"div\", {\n    className: _style.default.homeTitle\n  }, _react.default.createElement(\"img\", {\n    src: _homeTitle.default,\n    slot: \"media\",\n    alt: \"\",\n    style: {\n      width: 156\n    }\n  }), _react.default.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    className: _style.default.subTitle\n  }, \"\\u5236\\u9020\\u534F\\u540C\\u5E73\\u53F0\", ' ')), _react.default.createElement(\"div\", {\n    className: _style.default.welcome\n  }, _react.default.createElement(\"div\", {\n    className: _style.default.welcomeText\n  }, \"\\u60A8\\u597D\\uFF0C\", (0, _session.getAuthData)() && (0, _session.getAuthData)().userName, \"!\"), _react.default.createElement(\"div\", {\n    className: _style.default.userCard\n  }, _react.default.createElement(_fUi.Card, {\n    className: _style.default.leftCard\n  }, _react.default.createElement(_fUi.CardContent, null, _react.default.createElement(\"div\", {\n    className: _style.default.cardTitle\n  }, _react.default.createElement(\"div\", {\n    className: _style.default.imgContainer\n  }, _react.default.createElement(\"img\", {\n    src: _user.default,\n    alt: \"\"\n  })), _react.default.createElement(\"span\", null, \"\\u8D26\\u53F7\")), _react.default.createElement(\"div\", {\n    className: _style.default.cardContent\n  }, (0, _session.getAuthData)() && (0, _session.getAuthData)().userAccount))), _react.default.createElement(_fUi.Card, {\n    className: _style.default.rightCard\n  }, _react.default.createElement(_fUi.CardContent, null, _react.default.createElement(\"div\", {\n    className: _style.default.cardTitle\n  }, _react.default.createElement(\"div\", {\n    className: _style.default.imgContainer\n  }, _react.default.createElement(\"img\", {\n    src: _role.default,\n    alt: \"\"\n  })), _react.default.createElement(\"span\", null, \"\\u90E8\\u95E8\")), _react.default.createElement(\"div\", {\n    className: _style.default.cardContent\n  }, (0, _session.getAuthData)() && (0, _session.getAuthData)().departmentName)))), _react.default.createElement(\"div\", {\n    className: _style.default.navigate2\n  }, _react.default.createElement(_fUi.BlockTitle, null, \"\\u7CFB\\u7EDF\\u5BFC\\u822A\"), (0, _lodash.isEmpty)(moduleList) && _react.default.createElement(_fUi.Block, {\n    strong: true,\n    inset: true,\n    className: \"skeleton-text skeleton-effect-blink\"\n  }, _react.default.createElement(_fUi.Row, null, Array(4).fill({}).map(function (module, index) {\n    return _react.default.createElement(_fUi.Col, {\n      width: \"25\",\n      key: index\n    }, _react.default.createElement(\"div\", {\n      className: _style.default.navigateCard\n    }, _react.default.createElement(_fUi.SkeletonBlock, {\n      style: {\n        width: '30px',\n        height: '30px'\n      },\n      slot: \"media\"\n    }), _react.default.createElement(\"div\", {\n      className: \"skeleton-text\"\n    }, \"aaaaaaa\")));\n  }))), !(0, _lodash.isEmpty)(moduleList) && _react.default.createElement(_fUi.Block, {\n    strong: true,\n    inset: true\n  }, renderHomeCard()))));\n};\n\nvar _default = Layout;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}