{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\vsCode\\\\baicaho\\\\bc-app\\\\src\\\\pages\\\\BendingMachines\\\\BendingMachine\\\\PickTray\\\\CallTray\\\\callTraySheet.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { BlockTitle, ListInput, List, Icon, Button } from '@hvisions/f-ui';\nimport { attributeOne, attributeTwo, dockingPoints, sortPositions } from '~/enum/enum';\nimport styles from './style.scss';\nimport { onToast, createDialog } from '~/util/home';\nimport SemiFinishedDeliveryServices from '~/api/SemiFinishedDelivery';\n\nconst CallTraySheet = _ref => {\n  let {\n    f7router,\n    outSheetClosed,\n    item,\n    loadData,\n    selectValue\n  } = _ref;\n  const dockingPoints = [{\n    id: 1,\n    name: 'J002',\n    value: 'J002'\n  }, {\n    id: 2,\n    name: 'J003',\n    value: 'J003'\n  }];\n  const [readyMaterials, setReadyMaterials] = useState(item.readyMaterials);\n  const [dockingPoint, setDockingPoint] = useState('J003');\n\n  const outSave = async () => {\n    await SemiFinishedDeliveryServices.updatePrepareArea(dockingPoint, [item.id], readyMaterials).then(res => {\n      onToast('出库成功', styles.toastSuccess);\n      loadData(selectValue);\n      outSheetClosed();\n    }).catch(err => {\n      onToast(err.message, styles.toastError);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BlockTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"\\u51FA\\u5E93\"), /*#__PURE__*/React.createElement(List, {\n    strongIos: true,\n    dividersIos: true,\n    insetIos: true,\n    style: {\n      padding: '0 16px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListInput, {\n    label: \"\\u5907\\u6599\\u533A\",\n    type: \"text\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u6599\\u533A\",\n    required: true,\n    validate: true,\n    onChange: e => {\n      setReadyMaterials(e.target.value);\n    },\n    value: readyMaterials,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListInput, {\n    label: \"\\u63A5\\u9A73\\u53E3\",\n    type: \"select\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u63A5\\u9A73\\u53E3\",\n    required: true,\n    validate: true,\n    onChange: e => {\n      setDockingPoint(e.target.value);\n    },\n    value: dockingPoint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: \"demo-list-icon\",\n    slot: \"media\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }), dockingPoints.map((value, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: value.value,\n    key: value.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, value.name))), /*#__PURE__*/React.createElement(Button, {\n    className: styles['save-btn'],\n    fill: true,\n    round: true,\n    onClick: outSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"\\u4FDD\\u5B58\")));\n};\n\nexport default CallTraySheet;","map":{"version":3,"names":["React","useEffect","useRef","useState","BlockTitle","ListInput","List","Icon","Button","attributeOne","attributeTwo","dockingPoints","sortPositions","styles","onToast","createDialog","SemiFinishedDeliveryServices","CallTraySheet","f7router","outSheetClosed","item","loadData","selectValue","id","name","value","readyMaterials","setReadyMaterials","dockingPoint","setDockingPoint","outSave","updatePrepareArea","then","res","toastSuccess","catch","err","message","toastError","padding","e","target","map","index"],"sources":["D:/project/vsCode/baicaho/bc-app/src/pages/BendingMachines/BendingMachine/PickTray/CallTray/callTraySheet.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { BlockTitle, ListInput, List, Icon, Button } from '@hvisions/f-ui';\r\nimport { attributeOne, attributeTwo, dockingPoints, sortPositions } from '~/enum/enum';\r\nimport styles from './style.scss';\r\nimport { onToast, createDialog } from '~/util/home';\r\nimport SemiFinishedDeliveryServices from '~/api/SemiFinishedDelivery';\r\n\r\nconst CallTraySheet = ({\r\n    f7router,\r\n    outSheetClosed,\r\n    item,\r\n    loadData,\r\n    selectValue,\r\n}) => {\r\n\r\n    const dockingPoints = [\r\n        { id: 1, name: 'J002', value: 'J002', },\r\n        { id: 2, name: 'J003', value: 'J003', },\r\n    ]\r\n\r\n    const [readyMaterials, setReadyMaterials] = useState(item.readyMaterials);\r\n    const [dockingPoint, setDockingPoint] = useState('J003');\r\n\r\n    const outSave = async() => {\r\n        await SemiFinishedDeliveryServices.updatePrepareArea(dockingPoint, [item.id], readyMaterials)\r\n          .then(res => {\r\n            onToast('出库成功', styles.toastSuccess);\r\n            loadData(selectValue);\r\n            outSheetClosed()\r\n          })\r\n          .catch(err => {\r\n            onToast(err.message, styles.toastError);\r\n          })\r\n      }\r\n\r\n    return (\r\n        <>\r\n            <BlockTitle>出库</BlockTitle>\r\n            <List strongIos dividersIos insetIos style={{ padding: '0 16px' }}>\r\n                <ListInput\r\n                    label=\"备料区\"\r\n                    type=\"text\"\r\n                    placeholder=\"请输入备料区\"\r\n                    required\r\n                    validate\r\n                    onChange={(e) => {\r\n                        setReadyMaterials(e.target.value)\r\n                    }}\r\n                    value={readyMaterials}\r\n                >\r\n                    {/* <Icon icon=\"demo-list-icon\" slot=\"media\" />\r\n                    {toLocations.map((value, index) => (\r\n                        <option value={value.value} key={value.id}>\r\n                            {value.name}\r\n                        </option>\r\n                    ))} */}\r\n                </ListInput>\r\n                <ListInput\r\n                    label=\"接驳口\"\r\n                    type=\"select\"\r\n                    placeholder=\"请输入接驳口\"\r\n                    required\r\n                    validate\r\n                    onChange={(e) => {\r\n                        setDockingPoint(e.target.value)\r\n                    }}\r\n                    value={dockingPoint}\r\n                >\r\n                    <Icon icon=\"demo-list-icon\" slot=\"media\" />\r\n                    {dockingPoints.map((value, index) => (\r\n                        <option value={value.value} key={value.id}>\r\n                            {value.name}\r\n                        </option>\r\n                    ))}\r\n                </ListInput>\r\n                <Button className={styles['save-btn']} fill round onClick={outSave}>\r\n                    保存\r\n                </Button>\r\n            </List>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CallTraySheet;"],"mappings":"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"},"metadata":{},"sourceType":"module"}