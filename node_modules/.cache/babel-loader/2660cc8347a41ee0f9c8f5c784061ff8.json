{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\vsCode\\\\baicaho\\\\bc-app\\\\src\\\\pages\\\\SemiFinishedWarehousing\\\\PickTray\\\\cardInfo.js\";\nimport React from 'react';\nimport { Card, Button } from '@hvisions/f-ui';\nimport styles from './cardInfo.scss';\nimport { onToast, createDialog } from '~/util/home';\nimport EmptyPalletDeliveryApi from '~/api/EmptyPalletDelivery';\n\nconst CardInfo = _ref => {\n  let {\n    item,\n    loadData,\n    f7router,\n    setCallSheetOpen,\n    setTrayNumber\n  } = _ref;\n  const newStyle = {\n    background: '#ffdad4',\n    color: '#d83333'\n  };\n  const onGoingStyle = {\n    background: '#E1EDFF',\n    color: '#3D86F3'\n  };\n\n  const handleSaveManual = () => {\n    createDialog('托盘手动下架', '确认开始托盘下架流程？', function () {\n      try {\n        Manual(); // onToast('托盘自动下架成功', styles.toastSuccess);\n      } catch (error) {\n        console.log('error', error);\n        onToast('托盘下架失败', styles.toastError);\n      }\n    });\n  };\n\n  const Manual = async () => {\n    //托盘出库   托盘下架  新增\n    const data = {\n      trayNumber: item.code,\n      inType: 6,\n      //原料托盘出库\n      state: 0,\n      destination: '原材料组托点',\n      middle: 'J001'\n    };\n    await EmptyPalletDeliveryApi.saveOrUpdate(data).then(res => {\n      onToast('托盘自动下架成功', styles.toastSuccess);\n      f7router.back();\n      loadData();\n    }).catch(err => {\n      onToast(err.message, styles.toastError);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: styles['card'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles['card-ul'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"\\u6258\\u76D8\\u53F7\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, item.code || '')), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"\\u5E93\\u4F4D\\u53F7\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, item.location || '')), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"\\u5C5E\\u60272\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, item.attributeTwo || '')), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"\\u539F\\u6361\\u6599\\u70B9\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['li-next-title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, item.sortPosition || ''))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['card-div'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fill: true,\n    round: true,\n    className: styles['bottom-btn-confirm'],\n    onClick: () => setCallSheetOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"\\u4E0B\\u67B6\")));\n};\n\nexport default CardInfo;","map":{"version":3,"names":["React","Card","Button","styles","onToast","createDialog","EmptyPalletDeliveryApi","CardInfo","item","loadData","f7router","setCallSheetOpen","setTrayNumber","newStyle","background","color","onGoingStyle","handleSaveManual","Manual","error","console","log","toastError","data","trayNumber","code","inType","state","destination","middle","saveOrUpdate","then","res","toastSuccess","back","catch","err","message","location","attributeTwo","sortPosition"],"sources":["D:/project/vsCode/baicaho/bc-app/src/pages/SemiFinishedWarehousing/PickTray/cardInfo.js"],"sourcesContent":["import React from 'react';\r\nimport { Card, Button } from '@hvisions/f-ui';\r\nimport styles from './cardInfo.scss';\r\nimport { onToast, createDialog } from '~/util/home';\r\nimport EmptyPalletDeliveryApi from '~/api/EmptyPalletDelivery';\r\n\r\nconst CardInfo = ({ item, loadData, f7router,setCallSheetOpen,setTrayNumber }) => {\r\n  const newStyle = {\r\n    background: '#ffdad4',\r\n    color: '#d83333'\r\n  };\r\n  const onGoingStyle = {\r\n    background: '#E1EDFF',\r\n    color: '#3D86F3'\r\n  };\r\n\r\n  const handleSaveManual = () => {\r\n    createDialog('托盘手动下架', '确认开始托盘下架流程？', function() {\r\n      try {\r\n        Manual();\r\n        // onToast('托盘自动下架成功', styles.toastSuccess);\r\n      } catch (error) {\r\n        console.log('error', error);\r\n        onToast('托盘下架失败', styles.toastError);\r\n      }\r\n    });\r\n  };\r\n\r\n  const Manual = async () => {\r\n    //托盘出库   托盘下架  新增\r\n    const data = {\r\n      trayNumber: item.code,\r\n      inType: 6, //原料托盘出库\r\n      state: 0,\r\n      destination: '原材料组托点',\r\n      middle: 'J001'\r\n    };\r\n    await EmptyPalletDeliveryApi.saveOrUpdate(data)\r\n      .then(res => {\r\n        onToast('托盘自动下架成功', styles.toastSuccess);\r\n        f7router.back();\r\n        loadData();\r\n      })\r\n      .catch(err => {\r\n        onToast(err.message, styles.toastError);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Card className={styles['card']}>\r\n      <ul className={styles['card-ul']}>\r\n        <li>\r\n          <span className={styles['li-next-title']}>托盘号</span>\r\n          <span className={styles['li-next-title']}>{item.code || ''}</span>\r\n        </li>\r\n        <li>\r\n          <span className={styles['li-next-title']}>库位号</span>\r\n          <span className={styles['li-next-title']}>{item.location || ''}</span>\r\n        </li>\r\n        <li>\r\n          <span className={styles['li-next-title']}>属性2</span>\r\n          <span className={styles['li-next-title']}>{item.attributeTwo || ''}</span>\r\n        </li>\r\n        <li>\r\n          <span className={styles['li-next-title']}>原捡料点</span>\r\n          <span className={styles['li-next-title']}>{item.sortPosition || ''}</span>\r\n        </li>\r\n      </ul>\r\n      <div className={styles['card-div']}>\r\n        <Button fill round className={styles['bottom-btn-confirm']} onClick={()=>setCallSheetOpen(true)}>\r\n          下架\r\n        </Button>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CardInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}