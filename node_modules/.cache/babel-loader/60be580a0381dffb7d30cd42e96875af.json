{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = load;\nexports.getFormattedMsg = getFormattedMsg;\nexports.default = exports.getLocalSettings = exports.getAntLocale = exports.setAntLocales = exports.setLocales = exports.LOCALES = exports.DEFAULT_LOCALE = void 0;\n\nvar _reactIntlUniversal = _interopRequireDefault(require(\"react-intl-universal\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar DEFAULT_LOCALE = 'zh_CN';\nexports.DEFAULT_LOCALE = DEFAULT_LOCALE;\nvar LOCALES = {\n  en_US: 'English',\n  zh_CN: '中文'\n}; // locale data\n\nexports.LOCALES = LOCALES;\nvar locales = {\n  en_US: {},\n  zh_CN: {}\n};\nvar antdLocales = {\n  en_US: {},\n  zh_CN: {}\n};\n\nvar setLocales = function setLocales(l) {\n  return locales = (0, _lodash.merge)({}, locales, l);\n};\n\nexports.setLocales = setLocales;\n\nvar setAntLocales = function setAntLocales(l) {\n  return antdLocales = (0, _lodash.merge)({}, antdLocales, l);\n};\n\nexports.setAntLocales = setAntLocales;\n\nvar getAntLocale = function getAntLocale() {\n  var defalutLocale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_LOCALE;\n  return antdLocales[defalutLocale];\n};\n\nexports.getAntLocale = getAntLocale;\n\nvar getLocalSettings = function getLocalSettings() {\n  var defalutLocale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_LOCALE; // 从 localStorage 获取语言\n\n  if (window.localStorage && window.localStorage.getItem('locale')) {\n    return window.localStorage.getItem('locale');\n  } // 未设置过返回参数默认值\n\n\n  return defalutLocale;\n};\n\nexports.getLocalSettings = getLocalSettings;\n\nfunction load() {\n  var locale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_LOCALE;\n  return _reactIntlUniversal.default.init({\n    currentLocale: locale,\n    locales: locales\n  });\n}\n\nfunction getFormattedMsg(key) {\n  var variables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var def = arguments[2];\n\n  if (typeof variables === 'string' && arguments.length === 2) {\n    def = variables;\n  }\n\n  return _reactIntlUniversal.default.get(key, variables).d(key) || def;\n}\n\nvar _default = load;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}