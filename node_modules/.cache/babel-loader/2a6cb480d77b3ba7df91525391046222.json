{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _fUi = require(\"@hvisions/f-ui\");\n\nvar _session = require(\"@hvisions/toolkit/lib/session\");\n\nvar _style = _interopRequireDefault(require(\"./style.scss\"));\n\nvar _Core = _interopRequireDefault(require(\"../../Core\"));\n\nvar types = _interopRequireWildcard(require(\"../../store/core/types\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _session2 = require(\"../../utils/session\");\n\nvar _avatar = _interopRequireDefault(require(\"./imgs/avatar.png\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar Profile = function Profile(_ref) {\n  var f7router = _ref.f7router,\n      props = _objectWithoutProperties(_ref, [\"f7router\"]);\n\n  var _dispatch = (0, _reactRedux.useDispatch)();\n\n  var logout = function logout() {\n    _dispatch({\n      type: types.CHANGE_MODULE_LIST,\n      moduleList: []\n    });\n\n    _dispatch({\n      type: types.CHANGE_HOME_MENU,\n      homeMenus: []\n    });\n\n    (0, _session2.clear)();\n    f7router.navigate('/login');\n  };\n\n  var showAbout = function showAbout() {\n    f7router.app.dialog.create({\n      title: '关于',\n      content: \"<div class=\".concat(_style.default.aboutContent, \">\\n        <p>\").concat(_Core.default.getHomeConfig().version || '版本号v2.0', \"</p>\\n        <p>@ Copyright 2022</p>\\n        <p>Shanghai H VISIONS Technology</p>\\n        <p>Co.,Ltd.</p>\\n      </div>\"),\n      buttons: [{\n        text: '确定',\n        cssClass: _style.default.confirmBtn\n      }]\n    }).open();\n  };\n\n  return _react.default.createElement(\"div\", {\n    className: _style.default.profilePage\n  }, _react.default.createElement(\"div\", {\n    className: _style.default.avatarImage\n  }, _react.default.createElement(\"img\", {\n    src: _avatar.default,\n    alt: \"\"\n  })), _react.default.createElement(\"span\", {\n    className: _style.default.username\n  }, (0, _session.getAuthData)() && (0, _session.getAuthData)().userName), _react.default.createElement(_fUi.Card, {\n    className: _style.default.cardContainer\n  }, _react.default.createElement(_fUi.List, null, _react.default.createElement(_fUi.ListItem, {\n    header: \"\\u8D26\\u53F7\",\n    title: (0, _session.getAuthData)() && (0, _session.getAuthData)().userAccount\n  })), _react.default.createElement(_fUi.List, null, _react.default.createElement(_fUi.ListItem, {\n    header: \"\\u90E8\\u95E8\",\n    title: (0, _session.getAuthData)() && (0, _session.getAuthData)().departmentName\n  })), _react.default.createElement(_fUi.List, null, _react.default.createElement(_fUi.ListItem, {\n    header: \"\\u624B\\u673A\\u53F7\",\n    title: (0, _session.getAuthData)() && (0, _session.getAuthData)().mobilePhone\n  })), _react.default.createElement(_fUi.List, null, _react.default.createElement(_fUi.ListItem, {\n    header: \"\\u90AE\\u7BB1\",\n    title: (0, _session.getAuthData)() && (0, _session.getAuthData)().email\n  }))), _react.default.createElement(_fUi.Button, {\n    className: _style.default.aboutBtn,\n    onClick: showAbout\n  }, \"\\u5173\\u4E8E\"), _react.default.createElement(_fUi.Button, {\n    className: _style.default.logoutBtn,\n    onClick: logout\n  }, \"\\u9000\\u51FA\\u767B\\u5F55\"));\n};\n\nvar _default = Profile;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}