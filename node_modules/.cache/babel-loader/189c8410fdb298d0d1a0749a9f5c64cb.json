{"ast":null,"code":"var _jsxFileName = \"F:\\\\project\\\\vsCode\\\\yw-app\\\\src\\\\pages\\\\PreparationOrder\\\\index.js\";\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Row, Col, Icon, BlockTitle, Block, SkeletonBlock, Page, Navbar, NavLeft, NavTitle, ListInput, List, Subnavbar, Searchbar, ListItem, PageContent, Button, Sheet, Popup, Input } from '@hvisions/f-ui';\nimport moment from 'moment';\nimport { session, tree } from '@hvisions/toolkit';\nimport materialService from '~/api/materialService';\nimport PutMaterialService from '~/api/yw_putMaterial';\nimport { isEmpty, debounce } from 'lodash';\nimport { onToast, createDialog } from '~/util/home';\nimport CardInfo from './cardInfo';\nimport MaterialSearch from './MaterialSearch/index';\nimport styles from './style.scss';\nimport { Tabs, Badge } from 'antd-mobile';\nconst tabs = [{\n  title: /*#__PURE__*/React.createElement(Badge, {\n    text: '3',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }\n  }, \"First Tab\")\n}, {\n  title: /*#__PURE__*/React.createElement(Badge, {\n    text: '今日(20)',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }\n  }, \"Second Tab\")\n}, {\n  title: /*#__PURE__*/React.createElement(Badge, {\n    dot: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }\n  }, \"Third Tab\")\n}];\nimport backIcon from '~/pages/WarehousinManage/img/backIcon.png';\n\nconst PreparationOrder = _ref => {\n  let {\n    f7router,\n    moduleList,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Page, {\n    pageContent: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => f7router.back(),\n    className: \"ne-navleft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    style: {\n      height: 24\n    },\n    src: backIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(NavTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"\\u5907\\u6599\\u5355\")), /*#__PURE__*/React.createElement(PageContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    tabs: tabs,\n    initialPage: 1,\n    onChange: (tab, index) => {\n      console.log('onChange', index, tab);\n    },\n    onTabClick: (tab, index) => {\n      console.log('onTabClick', index, tab);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '150px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Content of first tab\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '150px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Content of second tab\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '150px',\n      backgroundColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Content of third tab\"))));\n};\n\nexport default PreparationOrder;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Row","Col","Icon","BlockTitle","Block","SkeletonBlock","Page","Navbar","NavLeft","NavTitle","ListInput","List","Subnavbar","Searchbar","ListItem","PageContent","Button","Sheet","Popup","Input","moment","session","tree","materialService","PutMaterialService","isEmpty","debounce","onToast","createDialog","CardInfo","MaterialSearch","styles","Tabs","Badge","tabs","title","backIcon","PreparationOrder","f7router","moduleList","props","back","height","tab","index","console","log","display","alignItems","justifyContent","backgroundColor"],"sources":["F:/project/vsCode/yw-app/src/pages/PreparationOrder/index.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Icon,\r\n  BlockTitle,\r\n  Block,\r\n  SkeletonBlock,\r\n  Page,\r\n  Navbar,\r\n  NavLeft,\r\n  NavTitle,\r\n  ListInput,\r\n  List,\r\n  Subnavbar,\r\n  Searchbar,\r\n  ListItem,\r\n  PageContent,\r\n  Button,\r\n  Sheet,\r\n  Popup,\r\n  Input\r\n} from '@hvisions/f-ui';\r\nimport moment from 'moment';\r\nimport { session, tree } from '@hvisions/toolkit';\r\nimport materialService from '~/api/materialService';\r\nimport PutMaterialService from '~/api/yw_putMaterial';\r\nimport { isEmpty, debounce } from 'lodash';\r\nimport { onToast, createDialog } from '~/util/home';\r\nimport CardInfo from './cardInfo';\r\nimport MaterialSearch from './MaterialSearch/index';\r\nimport styles from './style.scss';\r\n\r\nimport { Tabs, Badge } from 'antd-mobile';\r\nconst tabs = [\r\n  { title: <Badge text={'3'}>First Tab</Badge> },\r\n  { title: <Badge text={'今日(20)'}>Second Tab</Badge> },\r\n  { title: <Badge dot>Third Tab</Badge> },\r\n];\r\n\r\nimport backIcon from '~/pages/WarehousinManage/img/backIcon.png';\r\nconst PreparationOrder = ({ f7router, moduleList, ...props }) => {\r\n  \r\n  return (\r\n    <Page pageContent={false}>\r\n      <Navbar>\r\n        {/* <NavLeft>\r\n          <a onClick={() => f7router.back('/zzxt', { force: true })} className=\"ne-navleft\">\r\n            <img alt=\"\" style={{ height: 24 }} src={backIcon} />\r\n          </a>\r\n        </NavLeft> */}\r\n        <NavLeft>\r\n          <a onClick={() => f7router.back()} className=\"ne-navleft\">\r\n            <img alt=\"\" style={{ height: 24 }} src={backIcon} />\r\n          </a>\r\n        </NavLeft>\r\n        <NavTitle>备料单</NavTitle>\r\n      </Navbar>\r\n      <PageContent>\r\n      <Tabs tabs={tabs}\r\n        initialPage={1}\r\n        onChange={(tab, index) => { console.log('onChange', index, tab); }}\r\n        onTabClick={(tab, index) => { console.log('onTabClick', index, tab); }}\r\n      >\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '150px', backgroundColor: '#fff' }}>\r\n          Content of first tab\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '150px', backgroundColor: '#fff' }}>\r\n          Content of second tab\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '150px', backgroundColor: '#fff' }}>\r\n          Content of third tab\r\n        </div>\r\n      </Tabs>\r\n      </PageContent>\r\n      {/* <PageContent\r\n        infinite\r\n        infiniteDistance={50}\r\n        infinitePreloader={showPreloader}\r\n        onInfinite={loadMore}\r\n        ptrPreloader={ptrPreloader}\r\n        ptr\r\n        onPtrRefresh={handleRefresh}\r\n        onPtrPullStart={() => {\r\n          setPtrPreloader(true);\r\n        }}\r\n      >\r\n        <div>\r\n          <List className={styles.searchDate}>\r\n            <ListItem\r\n              title=\"物料\"\r\n              placeholder=\"请选择物料\"\r\n              link=\"#\"\r\n              onClick={() => {\r\n                f7router.navigate('/yw-material-search', { props: { date, selectedMaterial } });\r\n              }}\r\n              after={selectedMaterial.text}\r\n            ></ListItem>\r\n            <ListInput\r\n              placeholder=\"请选择投料时间\"\r\n              type=\"datepicker\"\r\n              clearButton={true}\r\n              calendarParams={{\r\n                monthNames: [\r\n                  '一月',\r\n                  '二月',\r\n                  '三月',\r\n                  '四月',\r\n                  '五月',\r\n                  '六月',\r\n                  '七月',\r\n                  '八月',\r\n                  '九月',\r\n                  '十月',\r\n                  '十一月',\r\n                  '十二月'\r\n                ],\r\n                dayNames: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\r\n                dayNamesShort: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],\r\n                on: {\r\n                  calendarClose: e => {\r\n                    setDate(e.value);\r\n                    const searchValue = {};\r\n\r\n                    if (selectedMaterial?.value !== undefined) {\r\n                      searchValue.materialId = selectedMaterial.value;\r\n                    }\r\n                    if (e.value[0]) {\r\n                      searchValue.date = moment(e.value[0]).format('YYYY-MM-DD');\r\n                    }\r\n                    pageInfo.current = { page: 0, pageSize: 10 };\r\n                    loadListData(0, 10, { ...searchValue });\r\n                  }\r\n                }\r\n              }}\r\n              value={date}\r\n              onInputClear={() => {\r\n                setDate([]);\r\n                const searchValue = {};\r\n                if (selectedMaterial?.value !== undefined) {\r\n                  searchValue.materialId = selectedMaterial.value;\r\n                }\r\n                pageInfo.current = { page: 0, pageSize: 10 };\r\n                loadListData(0, 10, { ...searchValue });\r\n              }}\r\n            ></ListInput>\r\n          </List>\r\n        </div>\r\n        {orderlist.map((item, index) => (\r\n          <CardInfo key={index} item={item} f7router={f7router} onHandleDelete={onHandleDelete} />\r\n        ))}\r\n      </PageContent>\r\n      <Sheet\r\n        className={styles['demo-sheet']}\r\n        opened={createSheetOpen}\r\n        onSheetClosed={() => {\r\n          setCreateSheetOpen(false);\r\n        }}\r\n        backdrop\r\n      >\r\n        <div>\r\n          <div className={styles['sheet-top']}>\r\n            <div\r\n              className={styles['sheet-top-close']}\r\n              onClick={() => {\r\n                setCreateSheetOpen(false);\r\n              }}\r\n            >\r\n              X\r\n            </div>\r\n            <div className={styles['sheet-top-title']}>新增备料单</div>\r\n          </div>\r\n          <div className={styles['sheet-content']}>\r\n            <span>物料</span>\r\n            <Input\r\n              onFocus={e => {\r\n                handleSelectMaterial();\r\n              }}\r\n              readOnly\r\n              className={styles['input-style']}\r\n              type=\"text\"\r\n              value={createMaterial.text || ''}\r\n            />\r\n          </div>\r\n          <div className={styles['sheet-content']}>\r\n            <span>物料批次</span>\r\n            <Input\r\n              className={styles['input-style']}\r\n              type=\"text\"\r\n              value={createBatch}\r\n              onChange={e => {\r\n                setCreateBatch(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className={styles['sheet-content']}>\r\n            <span>投料数量</span>\r\n            <Input\r\n              className={styles['input-style']}\r\n              type=\"text\"\r\n              value={createNum}\r\n              onChange={e => {\r\n                setCreateNum(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className={styles['btn-box']}>\r\n            <Button className={styles['confirm-btn']} onClick={handleSave}>\r\n              保存\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Sheet>\r\n      <Popup\r\n        opened={materialPopup}\r\n        // swipeToClose\r\n        onPopupClosed={() => {\r\n          setMaterialPopup(false);\r\n        }}\r\n      >\r\n        <MaterialSearch handleCreateSelect={handleCreateSelect}> </MaterialSearch>\r\n      </Popup>\r\n      <div className=\"ne-bottom-container\">\r\n        <Button\r\n          className=\"ne-bottom-btn\"\r\n          onClick={() => {\r\n            setCreateSheetOpen(true);\r\n          }}\r\n        >\r\n          新增\r\n        </Button>\r\n      </div> */}\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PreparationOrder;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}